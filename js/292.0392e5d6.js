"use strict";(globalThis["webpackChunkwesharelab_web"]=globalThis["webpackChunkwesharelab_web"]||[]).push([[292],{3004:(e,t,a)=>{a.d(t,{Z:()=>l});var n=a(9981),s=a.n(n),o=a(4328);a(1249);const i=s().create({timeout:1e4,maxContentLength:4e3});i.interceptors.request.use((e=>(localStorage.getItem("accessToken")&&(e.headers.Authorization=localStorage.getItem("accessToken")),e.withCredentials=!1,e)),(e=>{o.Z.create({message:e.message}),Promise.reject(e)})),i.interceptors.response.use((e=>{console.log("一切正常");const t=e.data;return"[]"===t?[]:t}),(async e=>{if(console.log("出现错误"),console.log(e),401===e.response.status){console.log("出现授权错误"),o.Z.create({message:"Token is invalid or expired"});let e={data:401};return e}return Promise.reject(e)}),(e=>{}));const c=i,r="http://demo.wesharetechnology.com:8000/lab/",l={login:async e=>await c.post(`${r}login`,e,{headers:{"Content-Type":"application/json"}}).then((e=>e)).catch((e=>e)),verifyAccessToken:async e=>await c.post(`${r}api/token/verify/`,e,{}).then((e=>e)).catch((e=>e)),refreshAccessToken:async e=>await c.post(`${r}api/token/refresh/`,e,{}).then((e=>e)).catch((e=>e)),register:async e=>await c.post(`${r}register`,e,{headers:{"Content-Type":"application/json"}}).then((e=>e)).catch((e=>e)),getsummary:async e=>await c.get(`${r}summary`,{params:e},{headers:{"Content-Type":"application/json"}}).then((e=>e)).catch((e=>e)),getvessel:async e=>await c.get(`${r}vessel`,{data:e},{headers:{"Content-Type":"application/json"}}).then((e=>e)).catch((e=>e)),getxtray:async e=>await c.get(`${r}xtray`,{data:e},{headers:{"Content-Type":"application/json"}}).then((e=>e)).catch((e=>e)),getnotice:async()=>await c.get(`${r}notice`,{}).then((e=>e)).catch((e=>e)),addvessel:async e=>await c.post(`${r}vessel`,e,{headers:{"Content-Type":"application/json"}}).then((e=>e)).catch((e=>e)),getpeople:async()=>await c.get(`${r}people`,{}).then((e=>e)).catch((e=>e)),getnotes:async e=>await c.get(`${r}note?user_id=`+e.user_id,{headers:{"Content-Type":"application/json"}}).then((e=>e)).catch((e=>e)),deletenote:async e=>await c["delete"](`${r}note?noteid=`+e.noteid,{headers:{"Content-Type":"application/json"}}).then((e=>e)).catch((e=>e)),newnote:async e=>await c.post(`${r}note`,e,{headers:{"Content-Type":"application/json"}}).then((e=>e)).catch((e=>e)),updatenote:async e=>await c.put(`${r}note?noteid=`+e.noteid,e,{headers:{"Content-Type":"application/json"}}).then((e=>e)).catch((e=>e)),vesselActionHistory:async e=>await c.get(`${r}vessel/`+e+"/action/",{}).then((e=>e)).catch((e=>e)),getTemporarySecretKey:async()=>await c.get("127.0.0.0:8181/index/").then((e=>e)).catch((e=>e))}},2292:(e,t,a)=>{a.r(t),a.d(t,{default:()=>b});var n=a(9835),s=a(6970);const o={key:0,style:{"text-align":"center"}},i={key:1,style:{"text-align":"center"}},c=(0,n._)("h4",null,"Everything is up to date!",-1),r=[c],l={key:2,class:"q-pa-sm q-gutter-sm"},d={class:"row justify-between"},p=(0,n.Uk)("New Vessel"),h={style:{color:"gray"}},y={class:"row justify-between"},g=(0,n.Uk)("Expire Soon"),u={style:{color:"gray"}};function w(e,t,a,c,w,m){const v=(0,n.up)("q-spinner-dots"),k=(0,n.up)("q-badge"),_=(0,n.up)("q-card");return(0,n.wg)(),(0,n.iD)("div",null,[void 0===w.notice?((0,n.wg)(),(0,n.iD)("div",o,[(0,n.Wm)(v,{color:"primary",size:"5em"})])):(0,n.kq)("",!0),void 0!==w.notice&&0===w.notice.length?((0,n.wg)(),(0,n.iD)("div",i,r)):((0,n.wg)(),(0,n.iD)("div",l,[((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)(w.notice,((e,t)=>((0,n.wg)(),(0,n.iD)("div",{key:t},["new"==e.notice_type?((0,n.wg)(),(0,n.j4)(_,{key:0,class:"q-pa-sm",bordered:"",onClick:a=>m.toAddVessel(e.vessel_id,e.notice_id,t)},{default:(0,n.w5)((()=>[(0,n._)("div",d,[(0,n.Wm)(k,{color:"green"},{default:(0,n.w5)((()=>[p])),_:1}),(0,n._)("span",h,(0,s.zw)(e.updated_datetime),1)]),(0,n._)("div",null,"Location: on xtray(id) "+(0,s.zw)(e.xtray_id),1)])),_:2},1032,["onClick"])):(0,n.kq)("",!0),"expire"==e.notice_type?((0,n.wg)(),(0,n.j4)(_,{key:1,class:"q-pa-sm",bordered:"",onClick:t=>m.toVessel(e.vessel_id)},{default:(0,n.w5)((()=>[(0,n._)("div",y,[(0,n.Wm)(k,{color:"yellow-10"},{default:(0,n.w5)((()=>[g])),_:1}),(0,n._)("span",u,(0,s.zw)(e.updated_datetime),1)]),(0,n._)("div",null," Location: on xtray(id) "+(0,s.zw)(e.xtray_id)+",vessel_id = "+(0,s.zw)(e.vessel_id),1)])),_:2},1032,["onClick"])):(0,n.kq)("",!0)])))),128))]))])}a(9665);var m=a(3004);const v={name:"NoticePage",components:{},data(){return{notice:void 0}},methods:{toAddMaterial(e){this.$router.push({name:"Add",params:{basicInfo:this.notice[e]}})},toMaterial(e){this.$router.push({path:`/detail/${e}`})},async fetchNotice(){const e=await m.Z.getnotice();this.notice=e.data,console.log(this.notice)},fetchNoticeHandler(){this.fetchNotice()},toAddVessel(e,t,a){console.log(e,t),this.$router.push({name:"Add",params:{passedInfo:this.notice[a]}})},toVessel(e){this.$router.push({path:`/detail/${e}`})}},mounted(){this.fetchNoticeHandler()}};var k=a(1639),_=a(7501),$=a(4458),f=a(990),C=a(9984),T=a.n(C);const j=(0,k.Z)(v,[["render",w]]),b=j;T()(v,"components",{QSpinnerDots:_.Z,QCard:$.Z,QBadge:f.Z})}}]);