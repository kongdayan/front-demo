(globalThis["webpackChunkwesharelab_web"]=globalThis["webpackChunkwesharelab_web"]||[]).push([[905],{3004:(e,t,a)=>{"use strict";a.d(t,{Z:()=>d});var i=a(9981),s=a.n(i),n=a(4328);a(1249);const l=s().create({timeout:1e4,maxContentLength:4e3});l.interceptors.request.use((e=>(localStorage.getItem("accessToken")&&(e.headers.Authorization=localStorage.getItem("accessToken")),e.withCredentials=!1,e)),(e=>{n.Z.create({message:e.message}),Promise.reject(e)})),l.interceptors.response.use((e=>{console.log("一切正常");const t=e.data;return"[]"===t?[]:t}),(async e=>{if(console.log("出现错误"),console.log(e),401===e.response.status){console.log("出现授权错误"),n.Z.create({message:"Token is invalid or expired"});let e={data:401};return e}return Promise.reject(e)}),(e=>{}));const o=l,r="http://demo.wesharetechnology.com:8000/lab/",d={login:async e=>await o.post(`${r}login`,e,{headers:{"Content-Type":"application/json"}}).then((e=>e)).catch((e=>e)),verifyAccessToken:async e=>await o.post(`${r}api/token/verify/`,e,{}).then((e=>e)).catch((e=>e)),refreshAccessToken:async e=>await o.post(`${r}api/token/refresh/`,e,{}).then((e=>e)).catch((e=>e)),register:async e=>await o.post(`${r}register`,e,{headers:{"Content-Type":"application/json"}}).then((e=>e)).catch((e=>e)),getsummary:async e=>await o.get(`${r}summary`,{params:e},{headers:{"Content-Type":"application/json"}}).then((e=>e)).catch((e=>e)),getvessel:async e=>await o.get(`${r}vessel`,{data:e},{headers:{"Content-Type":"application/json"}}).then((e=>e)).catch((e=>e)),getxtray:async e=>await o.get(`${r}xtray`,{data:e},{headers:{"Content-Type":"application/json"}}).then((e=>e)).catch((e=>e)),getnotice:async()=>await o.get(`${r}notice`,{}).then((e=>e)).catch((e=>e)),addvessel:async e=>await o.post(`${r}vessel`,e,{headers:{"Content-Type":"application/json"}}).then((e=>e)).catch((e=>e)),getpeople:async()=>await o.get(`${r}people`,{}).then((e=>e)).catch((e=>e)),getnotes:async e=>await o.get(`${r}note?user_id=`+e.user_id,{headers:{"Content-Type":"application/json"}}).then((e=>e)).catch((e=>e)),deletenote:async e=>await o["delete"](`${r}note?noteid=`+e.noteid,{headers:{"Content-Type":"application/json"}}).then((e=>e)).catch((e=>e)),newnote:async e=>await o.post(`${r}note`,e,{headers:{"Content-Type":"application/json"}}).then((e=>e)).catch((e=>e)),updatenote:async e=>await o.put(`${r}note?noteid=`+e.noteid,e,{headers:{"Content-Type":"application/json"}}).then((e=>e)).catch((e=>e)),vesselActionHistory:async e=>await o.get(`${r}vessel/`+e+"/action/",{}).then((e=>e)).catch((e=>e)),getTemporarySecretKey:async()=>await o.get("127.0.0.0:8181/index/").then((e=>e)).catch((e=>e))}},7905:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>fe});var i=a(9835),s=a(6970);const n={class:"q-px-md"},l=(0,i._)("div",{class:"q-pt-md"},null,-1),o=(0,i._)("div",{class:"q-pt-md"},null,-1),r=(0,i._)("div",{class:"q-pt-md"},null,-1),d=(0,i._)("div",{class:"q-pt-md"},null,-1),m=(0,i._)("div",{class:"q-pt-md"},null,-1),h=(0,i._)("div",{class:"q-pt-md"},null,-1),_=(0,i._)("div",{class:"q-pt-md"},null,-1);function c(e,t,a,c,p,u){const y=(0,i.up)("DashBoard"),g=(0,i.up)("PieChart"),w=(0,i.up)("q-card-section"),f=(0,i.up)("q-scroll-area"),x=(0,i.up)("q-card"),v=(0,i.up)("q-expansion-item"),D=(0,i.up)("VesselTable");return(0,i.wg)(),(0,i.iD)("div",n,[l,(0,i.Wm)(y),o,(0,i.Wm)(v,{"expand-separator":"",class:"q-gutter-y-md shadow-1",bordered:"",icon:"pie_chart",label:"PieChart","default-opened":""},{default:(0,i.w5)((()=>[(0,i.Wm)(x,{class:"pichart-card",flat:""},{default:(0,i.w5)((()=>[(0,i.Wm)(f,{style:{"max-width":"100%",height:"475px"}},{default:(0,i.w5)((()=>[(0,i.Wm)(w,{class:"row justify-evenly",horizontal:""},{default:(0,i.w5)((()=>[(0,i.Wm)(w,null,{default:(0,i.w5)((()=>[(0,i.Wm)(g,{style:(0,s.j5)([{"min-width":"350px"},{width:"50%rpx",height:"350px",margin:"0 auto"}]),vesseldata:p.table_content,type:p.type1,"v-if":p.Get_Data_Ready},null,8,["vesseldata","type","v-if"])])),_:1}),(0,i.Wm)(w,null,{default:(0,i.w5)((()=>[(0,i.Wm)(g,{style:(0,s.j5)([{"min-width":"350px"},{width:"50%rpx",height:"350px",margin:"0 auto"}]),vesseldata:p.table_content,type:p.type2,"v-if":p.Get_Data_Ready},null,8,["vesseldata","type","v-if"])])),_:1})])),_:1})])),_:1})])),_:1})])),_:1}),r,(0,i.Wm)(D),d,m,h,_])}a(9665);var p=a(3100),u=a(3004);const y={ref:"chart",id:"chart",style:{width:"50%rpx",height:"350px"}};function g(e,t,a,s,n,l){return(0,i.wg)(),(0,i.iD)("div",y,null,512)}var w=a(8171);const f={name:"PieChart",props:{vesseldata:{type:Object,required:!0},type:{type:String,required:!0}},watch:{vesseldata(e,t){this.generate_data(e,this.selftype);const a=this.$refs.chart,i=w.JE(a);this.chartInstance=i||w.S1(a),this.chartInstance.setOption(this.PieChartoption)}},data(){return{selftype:"",total:"",month_1:"",month_1_3:"",month_3_6:"",month_6:"",valid_count:"",invalid_count:"",PieChartoption:{title:{top:"10%",show:!0,left:"center",text:"Recent Used Chemicals"},tooltip:{trigger:"item",formatter:"{a} <br/>{b}: {c} ({d}%)"},legend:{left:"5%",top:"70%",orient:"vertical",fontSize:12,data:["<= 1 month","1 < x <= 3 months","3 < x  <= 6 months","x > 6 months"]},series:[{name:"Series",type:"pie",radius:["40%","70%"],avoidLabelOverlap:!1,itemStyle:{borderRadius:10,borderColor:"#fff",borderWidth:2},label:{show:!0,position:"inside",formatter:"{d}%",align:"center",baseline:"middle",fontSize:18,fontWeight:"bolder"},emphasis:{label:{show:!0,fontSize:"40",fontWeight:"bold"}},labelLine:{show:!1},data:[]}]}}},methods:{generate_data(e,t){if("update"==t){for(var a=0;a<e.length;a++)this.recentUsedChemicals(e[a].updated_datetime);this.PieChartoption.series[0].data=[{value:this.month_1,name:"<= 1 month"},{value:this.month_1_3,name:"1 < x <= 3 months"},{value:this.month_3_6,name:"3 < x  <= 6 months"},{value:this.month_6,name:"x > 6 months"}],this.PieChartoption.title.text="Recent Used Chemicals (Total="+this.vesseldata.length+")"}else if("create"==t){for(a=0;a<e.length;a++)this.ValidChemicals(e[a].created_datetime);this.PieChartoption.title.text="Chemicals Status (Total="+this.vesseldata.length+")",this.PieChartoption.legend.data=["Valid","Expired"],this.PieChartoption.series[0].data=[{value:this.valid_count,name:"Valid"},{value:this.invalid_count,name:"Expired"}]}},initChart(){const{vesseldata:e,type:t}=this;this.selftype=t,this.generate_data(e,t),this.Chart=w.S1(this.$refs.chart),this.Chart.setOption(this.PieChartoption),this.total=this.month_1+this.month_1_3+this.month_3_6+this.month_6},getNowFormatDate(){var e=new Date,t="-",a=e.getFullYear(),i=e.getMonth()-2,s=e.getDate();i>=1&&i<=9&&(i="0"+i),s>=0&&s<=9&&(s="0"+s);var n=a+t+i+t+s;return n},ValidChemicals(e){var t=this.getNowFormatDate(),a=0;const i=new Date(t),s=new Date(e),n=i.getFullYear(),l=i.getMonth()+1,o=s.getFullYear(),r=s.getMonth()+1,d=12*n+l,m=12*o+r;a=Math.abs(d-m),a<=10?this.valid_count++:a>10&&this.invalid_count++},recentUsedChemicals(e){var t=this.getNowFormatDate(),a=0;const i=new Date(t),s=new Date(e),n=i.getFullYear(),l=i.getMonth()+1,o=s.getFullYear(),r=s.getMonth()+1,d=12*n+l,m=12*o+r;a=Math.abs(d-m),a<=1?this.month_1++:1<a&&a<=3?this.month_1_3++:3<a&&a<=6?this.month_3_6++:6<a&&this.month_6++}},mounted(){this.initChart()}};var x=a(1639);const v=(0,x.Z)(f,[["render",g]]),D=v,b={class:"row items-center justify-end"},T={class:"row items-center justify-end"};function C(e,t,a,n,l,o){const r=(0,i.up)("q-option-group"),d=(0,i.up)("q-select"),m=(0,i.up)("q-btn"),h=(0,i.up)("q-date"),_=(0,i.up)("q-popup-proxy"),c=(0,i.up)("q-icon"),p=(0,i.up)("q-input"),u=(0,i.up)("q-card-section"),y=(0,i.up)("q-scroll-area"),g=(0,i.up)("q-card"),w=(0,i.up)("q-expansion-item"),f=(0,i.Q2)("close-popup");return(0,i.wg)(),(0,i.j4)(w,{"expand-separator":"",class:"q-gutter-y-md shadow-1",bordered:"",icon:"bar_chart",label:"Dashboard","default-opened":""},{default:(0,i.w5)((()=>[(0,i.Wm)(g,{flat:""},{default:(0,i.w5)((()=>[(0,i.Wm)(y,{style:{"max-width":"100%",height:"475px"}},{default:(0,i.w5)((()=>[(0,i.Wm)(u,null,{default:(0,i.w5)((()=>[(0,i.Wm)(r,{class:"row no-wrap",style:{width:"max-content"},modelValue:l.graphType,"onUpdate:modelValue":t[0]||(t[0]=e=>l.graphType=e),inline:"",options:[{label:"Area Stack",value:"areaChart"},{label:"Bar Stack",value:"barChart"},{label:"Calender Heatmap",value:"calenderChart"}]},null,8,["modelValue"]),(0,i._)("div",null,[(0,i.Wm)(d,{modelValue:l.chartDayNum,"onUpdate:modelValue":t[1]||(t[1]=e=>l.chartDayNum=e),class:"row no-wrap",style:{width:"136px",height:"40px","margin-top":"20px",display:"inline-block"},options:[7,15,20,30],label:"Interval"},null,8,["modelValue"]),(0,i.Wm)(p,{modelValue:l.myDateFrom,"onUpdate:modelValue":t[4]||(t[4]=e=>l.myDateFrom=e),style:{"max-width":"160px","margin-left":"50px",display:"inline-block"},label:"From"},{prepend:(0,i.w5)((()=>[(0,i.Wm)(c,{name:"event",class:"cursor-pointer"},{default:(0,i.w5)((()=>[(0,i.Wm)(_,{cover:"","transition-show":"scale","transition-hide":"scale"},{default:(0,i.w5)((()=>[(0,i.Wm)(h,{modelValue:l.myDateFrom,"onUpdate:modelValue":t[3]||(t[3]=e=>l.myDateFrom=e),mask:"YYYY-MM-DD",minimal:""},{default:(0,i.w5)((()=>[(0,i._)("div",b,[(0,i.wy)((0,i.Wm)(m,{label:"Confirm",onClick:t[2]||(t[2]=e=>o.changeStartDate(l.myDateFrom)),color:"primary",flat:""},null,512),[[f]])])])),_:1},8,["modelValue"])])),_:1})])),_:1})])),append:(0,i.w5)((()=>[(0,i.Wm)(c,{name:"close",onClick:o.resetST,class:"cursor-pointer"},null,8,["onClick"])])),_:1},8,["modelValue"]),(0,i.Wm)(p,{modelValue:l.myDateTo,"onUpdate:modelValue":t[7]||(t[7]=e=>l.myDateTo=e),style:{"max-width":"160px","margin-left":"50px",display:"inline-block"},label:"To"},{prepend:(0,i.w5)((()=>[(0,i.Wm)(c,{name:"event",class:"cursor-pointer"},{default:(0,i.w5)((()=>[(0,i.Wm)(_,{cover:"","transition-show":"scale","transition-hide":"scale"},{default:(0,i.w5)((()=>[(0,i.Wm)(h,{modelValue:l.myDateTo,"onUpdate:modelValue":t[6]||(t[6]=e=>l.myDateTo=e),mask:"YYYY-MM-DD",minimal:""},{default:(0,i.w5)((()=>[(0,i._)("div",T,[(0,i.wy)((0,i.Wm)(m,{label:"Confirm",onClick:t[5]||(t[5]=e=>o.changeEndDate(l.myDateTo)),color:"primary",flat:""},null,512),[[f]])])])),_:1},8,["modelValue"])])),_:1})])),_:1})])),append:(0,i.w5)((()=>[(0,i.Wm)(c,{name:"close",onClick:o.resetDT,class:"cursor-pointer"},null,8,["onClick"])])),_:1},8,["modelValue"])])])),_:1}),(0,i.Wm)(u,{class:"row justify-evenly"},{default:(0,i.w5)((()=>[(0,i._)("div",{id:"MainChart",style:(0,s.j5)([{"min-width":"1250px"},{width:"100%rpx",height:"350px"}])})])),_:1})])),_:1})])),_:1})])),_:1})}a(1335),a(984),a(3771);const A={name:"DashBoard",data(){return{grapthLegend:[],vesselIdNameDict:{},graphVessels:[],ALLChartsOptions:{},chartsSeries:{areaChart:[],barChart:[],calenderChart:[]},graphType:"areaChart",chartDayNum:7,today:this.timeFormat(new Date),lastyear:(new Date).setFullYear((new Date).getFullYear()-1),myDateFrom:"",startTimeOfData:"2023-06-11",indexOfSTD:0,indexOfStartData:0,myDateTo:"",endTimeOfData:"2023-07-31",indexOfETD:52,indexOfEndData:52,lengthOfTime:0,historyDates:[]}},watch:{graphType(){this.draw("MainChart")},chartDayNum(){"areaChart"==this.graphType&&(this.generateAllChartsOptions(),this.draw("MainChart"))}},methods:{...(0,p.OI)(["changeheatmapData","changebarStackdata","changehistoryWeightdata","changevesselData"]),generateAllChartsOptions(e){console.log("生成所有图配置");var t={areaChartOption:"",barChartOption:"",calenderChartOption:""};this.chartsSeries.areaChart=[];let a=this.gethistoryWeightdata();for(var i in a){let e=[];for(var s=0;s<this.lengthOfTime;s++)e[s]=void 0;let t=this.indexOfSTD,n=this.indexOfETD,l=this.indexOfStartData;this.indexOfEndData;while(t<=n)e[t++]=a[i][l++];this.chartsSeries.areaChart.push({name:this.vesselIdNameDict[i],type:"line",stack:"总量",areaStyle:{},emphasis:{focus:"series"},data:e})}let n=this.chartsSeries.areaChart;t.areaChartOption={title:{top:5,left:"center",text:"Vessel Usage Trend(g)"},tooltip:{trigger:"axis",axisPointer:{type:"cross",label:{backgroundColor:"#6a7985"}}},legend:{type:"scroll",orient:"horizontal",right:10,top:20,data:this.grapthLegend},toolbox:{feature:{saveAsImage:{}}},grid:{left:"3%",right:"4%",bottom:"3%",containLabel:!0},xAxis:[{axisLabel:{interval:this.chartDayNum-2,rotate:75},type:"category",boundaryGap:!1,data:this.historyDates}],yAxis:[{type:"value"}],series:n},this.chartsSeries.lineChart=[{data:[]}];var l=[];for(var i in a)l.push(parseFloat(a[i]));this.chartsSeries.lineChart[0].data.push(l),t.barChartOption={title:{top:30,left:"center",text:"Vessel Storage(g)"},tooltip:{type:"shadow",trigger:"axis",show:!0},grid:{left:"3%",right:"4%",bottom:"3%",top:100,containLabel:!0},xAxis:[{type:"category",data:this.grapthLegend,show:!1}],yAxis:[{type:"value"}],series:[{name:"Weight",type:"bar",data:l,itemStyle:{normal:{color:function(e){var t=["#5470c6","#91cc75","#fac858","#ee6666","#73c0de","#3ba272","#fc8452","#9a60b4","#ea7ccc"],a=e.dataIndex;return a>=t.length&&(a%=t.length),t[a]}}}}]},t.calenderChartOption={title:{top:30,left:"center",text:"Vessel Use Heatmap"},tooltip:{show:!1},visualMap:{min:0,max:2e4,type:"piecewise",orient:"horizontal",left:"center",top:65,formatter:function(e){return e<4e3||e<8e3||e<12e3||e<16e3?"":"Rare----\x3eMost"}},calendar:{top:120,left:30,right:30,cellSize:["auto",13],range:["2022"],itemStyle:{borderWidth:.5},yearLabel:{show:!1}},series:{type:"heatmap",coordinateSystem:"calendar",data:this.getHeatmapData()}},this.ALLChartsOptions=t},draw(e){let t=w.S1(document.getElementById(e));t.clear();let a=this.graphType+"Option",i=this.ALLChartsOptions[a];console.log(a),console.log(i),t.setOption(i)},gethistoryWeightdata(){var e=JSON.parse(this.$store.state.historyWeightdata);return e},getHeatmapData(){console.log("GET HEatmap");var e=[],t=JSON.parse(this.$store.state.heatmapData);return t.forEach((t=>{e.push([t.date,t.count])})),e},getdiffdate(e,t){var a=new Array,i=0;if(new Date(e)>new Date(this.startTimeOfData)){var s=0,n=this.startTimeOfData;while(new Date(n)<new Date(e)){var l=new Date(n).getTime(),o=l+864e5,r=new Date(o).getFullYear()+"-",d=new Date(o).getMonth()+1<10?"0"+(new Date(o).getMonth()+1)+"-":new Date(o).getMonth()+1+"-",m=new Date(o).getDate()<10?"0"+new Date(o).getDate():new Date(o).getDate();n=r+d+m,s++}this.indexOfStartData=s,this.indexOfSTD=0}else this.indexOfStartData=0;while(new Date(e)<=new Date(t)){e==this.startTimeOfData&&(this.indexOfSTD=i),e==this.endTimeOfData&&(this.indexOfEndData=i-this.indexOfSTD),a[i]=e;var h=new Date(e).getTime();o=h+864e5,r=new Date(o).getFullYear()+"-",d=new Date(o).getMonth()+1<10?"0"+(new Date(o).getMonth()+1)+"-":new Date(o).getMonth()+1+"-",m=new Date(o).getDate()<10?"0"+new Date(o).getDate():new Date(o).getDate();e=r+d+m,i++}let _=new Date(this.startTimeOfData),c=new Date(this.endTimeOfData),p=Math.abs(c-_),u=Math.ceil(p/864e5);return new Date(t)>new Date(this.endTimeOfData)&&(this.indexOfEndData=u),this.lengthOfTime=i,this.indexOfETD=this.indexOfSTD+this.indexOfEndData-this.indexOfStartData,a},getTargetDate(){var e=new Date,t=new Date(e.getTime()-5184e6),a=t.getFullYear(),i=t.getMonth()+1,s=t.getDate();i<10&&(i="0"+i),s<10&&(s="0"+s);var n=a+"-"+i+"-"+s;return n},timeFormat(e){let t=e.getFullYear()+"-"+("0"+(e.getMonth()+1)).slice(-2)+"-"+("0"+e.getDate()).slice(-2);return t},reloadDashBoard(){this.historyDates=this.getdiffdate(this.myDateFrom,this.myDateTo),this.generateAllChartsOptions(),this.draw("MainChart")},resetST(){this.myDateFrom=this.getTargetDate(),this.reloadDashBoard()},resetDT(){this.myDateTo=this.today,this.reloadDashBoard()},changeStartDate(e){this.myDateFrom=e,this.reloadDashBoard()},changeEndDate(e){this.myDateTo=e,this.reloadDashBoard()},async updateDashBoard(){this.myDateFrom=this.getTargetDate(),this.myDateTo=this.today,this.reloadDashBoard()}},mounted(){this.grapthLegend=["TEOS","CTAB","Ammonia solution","DEA","Acetylacetone","Ethanol","TTIP","Hexamethylene diisocyanate","Diisopropanolamine","Cesiom hydroxide monohydrate","Boric acid","Di(propylene glycol) butyl ether","Acetic acid","Ethylene imine polymer","Dodecyl alcohol","Formaldehyde solution","Dibutylamine","Ammoniumperoxodisulfat"],this.vesselIdNameDict={73:"TEOS",79:"CTAB",122:"Ammonia solution",123:"DEA",124:"Acetylacetone",125:"Ethanol",126:"TTIP",153:"Hexamethylene diisocyanate",254:"Diisopropanolamine",255:"Cesiom hydroxide monohydrate",257:"Boric acid",258:"Di(propylene glycol) butyl ether",261:"Acetic acid",262:"Ethylene imine polymer",264:"Dodecyl alcohol",266:"Formaldehyde solution",267:"Dibutylamine",270:"Ammoniumperoxodisulfat"},this.updateDashBoard()}};var k=a(1123),S=a(4458),W=a(6663),O=a(3190),q=a(990),V=a(9379),B=a(6362),Z=a(3246),F=a(7088),E=a(5429),Q=a(6384),G=a(3119),M=a(2857),I=a(2765),$=a(2146),L=a(9984),P=a.n(L);const U=(0,x.Z)(A,[["render",C]]),j=U;P()(A,"components",{QExpansionItem:k.Z,QCard:S.Z,QScrollArea:W.Z,QCardSection:O.Z,QBadge:q.Z,QBtn:V.Z,QMenu:B.Z,QList:Z.Z,QDate:F.Z,QOptionGroup:E.Z,QSelect:Q.Z,QInput:G.Z,QIcon:M.Z,QPopupProxy:I.Z}),P()(A,"directives",{ClosePopup:$.Z});const N={class:"search_col"},R={class:"search_input"},Y=(0,i._)("div",{class:"q-pl-sm"},null,-1),z=(0,i.Uk)(" Search"),H={class:"DChart"},J={key:0},K={key:1},X=["href"];function ee(e,t,a,n,l,o){const r=(0,i.up)("q-input"),d=(0,i.up)("q-tooltip"),m=(0,i.up)("q-btn"),h=(0,i.up)("q-space"),_=(0,i.up)("q-separator"),c=(0,i.up)("q-select"),p=(0,i.up)("q-badge"),u=(0,i.up)("q-td"),y=(0,i.up)("DoughnutChart"),g=(0,i.up)("q-icon"),w=(0,i.up)("q-img"),f=(0,i.up)("q-tr"),x=(0,i.up)("q-table"),v=(0,i.up)("q-card-section"),D=(0,i.up)("q-scroll-area"),b=(0,i.up)("q-card"),T=(0,i.up)("q-expansion-item");return(0,i.wg)(),(0,i.j4)(T,{"expand-separator":"",class:"q-gutter-y-md shadow-1",bordered:"",icon:"sort",label:"Vessel","default-opened":""},{default:(0,i.w5)((()=>[(0,i.Wm)(b,{flat:""},{default:(0,i.w5)((()=>[(0,i.Wm)(D,{style:{"max-width":"100%",height:"475px"}},{default:(0,i.w5)((()=>[(0,i.Wm)(v,{class:"row justify-evenly",horizontal:""},{default:(0,i.w5)((()=>[(0,i.Wm)(x,{title:"Vessel","row-key":"name",style:{"min-width":"1250px"},rows:l.table_content,columns:l.vesselColumns,"visible-columns":l.visibleColumns,"rows-per-page-options":[20,10,5,0]},{top:(0,i.w5)((()=>[(0,i._)("div",N,[(0,i._)("div",R,[(0,i.Wm)(r,{outlined:"",dense:"",standout:"",debounce:"500",modelValue:l.search_content,"onUpdate:modelValue":t[0]||(t[0]=e=>l.search_content=e)},null,8,["modelValue"])]),Y,(0,i.Wm)(m,{flat:"",rounded:"",dense:"",icon:"search"},{default:(0,i.w5)((()=>[(0,i.Wm)(d,null,{default:(0,i.w5)((()=>[z])),_:1})])),_:1})]),(0,i.Wm)(h),(0,i.Wm)(_,{class:"bg-separator",spaced:"lg",inset:"",vertical:""}),(0,i.Wm)(c,{modelValue:l.visibleColumns,"onUpdate:modelValue":t[1]||(t[1]=e=>l.visibleColumns=e),multiple:"",outlined:"",dense:"","options-dense":"","display-value":e.$q.lang.table.columns,"emit-value":"","map-options":"",options:l.vesselColumns,"option-value":"name","options-cover":""},null,8,["modelValue","display-value","options"])])),body:(0,i.w5)((e=>[(0,i.Wm)(f,{props:e},{default:(0,i.w5)((()=>[(0,i.Wm)(u,{key:"cas",props:e},{default:(0,i.w5)((()=>[(0,i.Wm)(p,{color:"green"},{default:(0,i.w5)((()=>[(0,i.Uk)((0,s.zw)(e.row.cas),1)])),_:2},1024)])),_:2},1032,["props"]),(0,i.Wm)(u,{key:"chemical_name",props:e},{default:(0,i.w5)((()=>[(0,i.Wm)(p,{color:"green"},{default:(0,i.w5)((()=>[(0,i.Uk)((0,s.zw)(e.row.chemical_name),1)])),_:2},1024)])),_:2},1032,["props"]),(0,i.Wm)(u,{key:"last_weight",props:e},{default:(0,i.w5)((()=>[(0,i.Wm)(p,{color:"green"},{default:(0,i.w5)((()=>[(0,i.Uk)((0,s.zw)(e.row.last_weight),1)])),_:2},1024)])),_:2},1032,["props"]),(0,i.Wm)(u,{key:"full_weight",props:e},{default:(0,i.w5)((()=>[(0,i.Wm)(p,{color:"blue"},{default:(0,i.w5)((()=>[(0,i.Uk)((0,s.zw)(e.row.full_weight),1)])),_:2},1024)])),_:2},1032,["props"]),(0,i.Wm)(u,{key:"Remain",props:e},{default:(0,i.w5)((()=>[(0,i._)("div",H,[e.row?((0,i.wg)(),(0,i.j4)(y,{key:e.row.last_weight,used:e.row.last_weight,full:e.row.full_weight,style:{width:"30px",height:"30px","/* align-self":"left","*/\n                          margin":"0 auto"}},null,8,["used","full"])):(0,i.kq)("",!0)])])),_:2},1032,["props"]),(0,i.Wm)(u,{key:"is_ontray",props:e},{default:(0,i.w5)((()=>[e.row.is_ontray?((0,i.wg)(),(0,i.iD)("div",J,[(0,i.Wm)(g,{color:"green",name:"shield"})])):((0,i.wg)(),(0,i.iD)("div",K,[(0,i.Wm)(g,{color:"red",name:"shield"})]))])),_:2},1032,["props"]),(0,i.Wm)(u,{key:"brand_name",props:e},{default:(0,i.w5)((()=>[(0,i.Wm)(p,{color:"green"},{default:(0,i.w5)((()=>[(0,i.Uk)((0,s.zw)(e.row.brand_name),1)])),_:2},1024)])),_:2},1032,["props"]),(0,i.Wm)(u,{key:"location_name",props:e},{default:(0,i.w5)((()=>[(0,i.Wm)(p,{color:"amber"},{default:(0,i.w5)((()=>[(0,i._)("a",{target:"_blank",href:o.getPathAdvisorLink(e.row.location_name)},(0,s.zw)(e.row.location_name),9,X)])),_:2},1024)])),_:2},1032,["props"]),(0,i.Wm)(u,{key:"position_name",props:e},{default:(0,i.w5)((()=>[(0,i.Wm)(p,{color:"light-blue"},{default:(0,i.w5)((()=>[(0,i.Uk)((0,s.zw)(e.row.position_name),1)])),_:2},1024),(0,i.Wm)(d,{"transition-show":"scale","transition-hide":"scale"},{default:(0,i.w5)((()=>[(0,i.Wm)(w,{src:o.getLocationImgPath(l.imgs[e.row.position_img]),style:{width:"400px","max-width":"100%","max-height":"100%"}},null,8,["src"])])),_:2},1024)])),_:2},1032,["props"]),(0,i.Wm)(u,{key:"xtray_name",props:e},{default:(0,i.w5)((()=>[(0,i.Wm)(p,{color:"blue-grey"},{default:(0,i.w5)((()=>[(0,i.Uk)((0,s.zw)(e.row.xtray_name),1)])),_:2},1024)])),_:2},1032,["props"])])),_:2},1032,["props"])])),_:1},8,["rows","columns","visible-columns"])])),_:1})])),_:1})])),_:1})])),_:1})}var te=a(499);const ae={ref:"chart",style:{width:"100%",height:"400px"}};function ie(e,t,a,s,n,l){return(0,i.wg)(),(0,i.iD)("div",ae,null,512)}const se={name:"DoughnutChart",props:{caption:{type:String,required:!1},full:{type:Number,required:!0},used:{type:Number,required:!0}},data(){return{DoughnutChartOption:{series:[{type:"pie",radius:["25%","60%"],label:{show:!1,position:"center"},labelLine:{show:!1},data:[]}]}}},methods:{initChart(){const{used:e,full:t}=this,a=t-e,i=e/t*100;var s;s=i>0&&i<=20?"#cc3300":i>20&&i<=50?"#ffcc00":"#339900",this.DoughnutChartOption.series[0].data=[{value:e,name:"used",itemStyle:{color:s}},{value:a,name:"full",itemStyle:{color:"#f0f0f0"}}];const n=w.S1(this.$refs.chart);n.setOption(this.DoughnutChartOption)}},mounted(){this.initChart()}},ne=(0,x.Z)(se,[["render",ie]]),le=ne,oe={name:"VesselTable",props:{},data(){return{table_content:[],materials:[],search_content:"",vesselColumns:[{name:"cas",label:"CAS",align:"left",field:e=>e.cas,format:e=>`${e}`,sortable:!0},{name:"chemical_name",label:"Chemical Name",align:"left",field:e=>e.chemical_name,format:e=>`${e}`,sortable:!0},{name:"last_weight",label:"Current Weight(g)",align:"left",field:"last_weight",sortable:!0,format:e=>`${e}`},{name:"full_weight",label:"Full Weight(g)",align:"left",field:"full_weight",sortable:!0,format:e=>`${e}`},{name:"Remain",label:"Remain",align:"left",sortable:!0,field:e=>e.chemical_name,format:e=>`${e}`},{name:"is_ontray",label:"Status",align:"left",field:e=>e.is_ontray,format:e=>`${e}`,sortable:!0},{name:"brand_name",label:"Brand",align:"left",field:e=>e.brand_name,format:e=>`${e}`,sortable:!0},{name:"location_name",label:"Location",align:"left",field:e=>e.location_name,format:e=>`${e}`,sortable:!0},{name:"position_name",label:"Position",align:"left",field:e=>e.position_name,format:e=>`${e}`,sortable:!0},{name:"xtray_name",label:"Device",align:"left",field:e=>e.xtray_name,format:e=>`${e}`,sortable:!0}],visibleColumns:(0,te.iH)(["cas","chemical_name","last_weight","full_weight","Remain","is_ontray","brand_name","location_name","position_name","xtray_name"]),xtrays_dict:new Array,imgs:{1:a(236),2:a(2370),3:a(4879),4:a(397)}}},watch:{search_content(e,t){this.filterTableContent(e)}},components:{DoughnutChart:le},methods:{...(0,p.OI)(["changevesselData","changextrayData"]),getPathAdvisorLink(e){return"https://pathadvisor.ust.hk/search/nearest/lift/to/ROOM%20"+e},filterTableContent(){var e=[];if(this.search_content)for(var t=1;t<this.materials.length;t++){let a=this.materials[t];(-1!=a.chemical_name.toUpperCase().search(this.search_content.toUpperCase())||-1!=a.brand_name.toUpperCase().search(this.search_content.toUpperCase())||-1!=a.cas.indexOf(this.search_content))&&e.push(a)}this.updateVesselTable(e)},updateVesselTable(e){for(var t in e){var a=e[t].xtray_id;let o=this.xtrays_dict[a];var i=["6105-Tray-13","6105-Tray-15","6105-Tray-16","6105-Tray-17"],s=["6105-Tray-20","6105-Tray-21","6105-Tray-18","6105-Tray-19"],n=["6105-Tray-22","6105-Tray-23","6105-Tray-12","6105-Tray-14"],l=["testxtray10","testxtray11","testxtray5","testxtray2","testxtray8"];void 0!=o&&(e[t].xtray_name=o.xtray_uid,e[t].location_name=o.location_name,e[t].position_name=o.position_name,-1!=i.indexOf(e[t].xtray_name)?e[t].position_img="1":-1!=s.indexOf(e[t].xtray_name)?e[t].position_img="2":-1!=n.indexOf(e[t].xtray_name)?e[t].position_img="3":-1!=l.indexOf(e[t].xtray_name)?e[t].position_img="4":e[t].position_img=0)}e.length>0||this.search_content.length>0?this.table_content=e:this.table_content=this.materials},async updatextray(){let e={code:200,message:"",data:[{xtray_id:1,xtray_uid:"testxtray3",last_weight:190.6,online_status:!1,location_name:"G031A",position_name:"Block 1"},{xtray_id:4,xtray_uid:"testxtray6",last_weight:-98.2,online_status:!1,location_name:"G031A",position_name:"Block 3"},{xtray_id:5,xtray_uid:"testxtray2",last_weight:-77.6,online_status:!1,location_name:"G031A",position_name:"Block 1"},{xtray_id:6,xtray_uid:"testxtray1",last_weight:89.4,online_status:!1,location_name:"G031A",position_name:"Block 1"},{xtray_id:7,xtray_uid:"testxtray10",last_weight:10,online_status:!1,location_name:"G031A",position_name:"Testbench"},{xtray_id:8,xtray_uid:"testxtray11",last_weight:-295.4,online_status:!0,location_name:"6105",position_name:"Testbench"},{xtray_id:9,xtray_uid:"testxtray4",last_weight:-44.5,online_status:!1,location_name:"G031A",position_name:"Block 2"},{xtray_id:10,xtray_uid:"testxtray5",last_weight:78.6,online_status:!1,location_name:"G031A",position_name:"Block 2"},{xtray_id:11,xtray_uid:"testxtray7",last_weight:3536.8,online_status:!1,location_name:"G031A",position_name:"Block 3"},{xtray_id:12,xtray_uid:"testxtray8",last_weight:190.6,online_status:!1,location_name:"G031A",position_name:"Block 4"},{xtray_id:13,xtray_uid:"testxtray9",last_weight:7395,online_status:!1,location_name:"G031A",position_name:"Block 4"},{xtray_id:15,xtray_uid:"6105-Tray-13",last_weight:8305,online_status:!0,location_name:"6105",position_name:"1-1"},{xtray_id:16,xtray_uid:"6105-Tray-15",last_weight:5159,online_status:!0,location_name:"6105",position_name:"1-3"},{xtray_id:17,xtray_uid:"6105-Tray-16",last_weight:14116,online_status:!0,location_name:"6105",position_name:"1-2"},{xtray_id:18,xtray_uid:"6105-Tray-17",last_weight:376,online_status:!0,location_name:"6105",position_name:"1-4"},{xtray_id:19,xtray_uid:"6105-Tray-18",last_weight:12712,online_status:!0,location_name:"6105",position_name:"2-2"},{xtray_id:20,xtray_uid:"6105-Tray-19",last_weight:-2461,online_status:!0,location_name:"6105",position_name:"2-3"},{xtray_id:21,xtray_uid:"6105-Tray-20",last_weight:15555,online_status:!0,location_name:"6105",position_name:"2-1"},{xtray_id:22,xtray_uid:"6105-Tray-21",last_weight:17750,online_status:!0,location_name:"6105",position_name:"2-1"},{xtray_id:23,xtray_uid:"6105-Tray-12",last_weight:16612,online_status:!0,location_name:"6105",position_name:"3-2"},{xtray_id:24,xtray_uid:"6105-Tray-14",last_weight:17368,online_status:!0,location_name:"6105",position_name:"3-2"},{xtray_id:25,xtray_uid:"6105-Tray-23",last_weight:12549,online_status:!0,location_name:"6105",position_name:"3-1"},{xtray_id:26,xtray_uid:"6105-Tray-22",last_weight:16829,online_status:!0,location_name:"6105",position_name:"3-1"}]};this.updatextraysdict(e.data),this.changextrayData(e.data)},updatextraysdict(e){for(var t in e)this.xtrays_dict[e[t].xtray_id]=e[t]},async updateVesselData(){let e={code:200,message:"",data:[{last_weight:826.5,full_weight:826.5,is_ontray:!0,vessel_id:73,vessel_rfid_uid:"00000012",cas:"78-10-4",chemical_name:"TEOS",brand_name:"Sigma",xtray_id:8,xtray_name:"testxtray11",location_name:"6105",position_name:"Testbench",position_img:"4"},{last_weight:320.3,full_weight:624.4,is_ontray:!0,vessel_id:79,vessel_rfid_uid:"00000015",cas:"57-09-0",chemical_name:"CTAB",brand_name:"Sigma",xtray_id:8,xtray_name:"testxtray11",location_name:"6105",position_name:"Testbench",position_img:"4"},{last_weight:130.2,full_weight:737.2,is_ontray:!1,vessel_id:122,vessel_rfid_uid:"00000024",cas:"1336-21-6",chemical_name:"Ammonia solution",brand_name:"Aladdin",xtray_id:12,xtray_name:"testxtray8",location_name:"G031A",position_name:"Block 4",position_img:"4"},{last_weight:403.2,full_weight:824.1,is_ontray:!1,vessel_id:123,vessel_rfid_uid:"00000026",cas:"111-42-2",chemical_name:"DEA",brand_name:"Aladdin",xtray_id:12,xtray_name:"testxtray8",location_name:"G031A",position_name:"Block 4",position_img:"4"},{last_weight:1290.5,full_weight:1569.4,is_ontray:!1,vessel_id:124,vessel_rfid_uid:"00000025",cas:"123-54-6",chemical_name:"Acetylacetone",brand_name:"Sigma",xtray_id:12,xtray_name:"testxtray8",location_name:"G031A",position_name:"Block 4",position_img:"4"},{last_weight:750.3,full_weight:1582.8,is_ontray:!1,vessel_id:125,vessel_rfid_uid:"00000022",cas:"64-17-5",chemical_name:"Ethanol",brand_name:"VWR",xtray_id:7,xtray_name:"testxtray10",location_name:"G031A",position_name:"Testbench",position_img:"4"},{last_weight:770.9,full_weight:770.9,is_ontray:!1,vessel_id:126,vessel_rfid_uid:"00000021",cas:"546-68-9",chemical_name:"TTIP",brand_name:"Aldrich",xtray_id:12,xtray_name:"testxtray8",location_name:"G031A",position_name:"Block 4",position_img:"4"},{last_weight:281.4,full_weight:370.1,is_ontray:!1,vessel_id:153,vessel_rfid_uid:"00000034",cas:"822-06-0",chemical_name:"Hexamethylene diisocyanate",brand_name:"Sigma-aldrich",xtray_id:5,xtray_name:"testxtray2",location_name:"G031A",position_name:"Block 1",position_img:"4"},{last_weight:362,full_weight:593.3,is_ontray:!1,vessel_id:254,vessel_rfid_uid:"00000087",cas:"110-97-4",chemical_name:"Diisopropanolamine",brand_name:"aladdin",xtray_id:10,xtray_name:"testxtray5",location_name:"G031A",position_name:"Block 2",position_img:"4"},{last_weight:59.6,full_weight:123.4,is_ontray:!1,vessel_id:255,vessel_rfid_uid:"00000096",cas:"35103-79-8",chemical_name:"Cesiom hydroxide monohydrate",brand_name:"aladdin",xtray_id:10,xtray_name:"testxtray5",location_name:"G031A",position_name:"Block 2",position_img:"4"},{last_weight:279.3,full_weight:1156.3,is_ontray:!1,vessel_id:257,vessel_rfid_uid:"00000080",cas:"10043-35-3",chemical_name:"Boric acid",brand_name:"Riedel",xtray_id:10,xtray_name:"testxtray5",location_name:"G031A",position_name:"Block 2",position_img:"4"},{last_weight:583.2,full_weight:583.2,is_ontray:!1,vessel_id:258,vessel_rfid_uid:"00000084",cas:"29911-28-2",chemical_name:"Di(propylene glycol) butyl ether",brand_name:"Aldrich",xtray_id:10,xtray_name:"testxtray5",location_name:"G031A",position_name:"Block 2",position_img:"4"},{last_weight:230.5,full_weight:690.9,is_ontray:!1,vessel_id:261,vessel_rfid_uid:"00000090",cas:"64-19-7",chemical_name:"Acetic acid",brand_name:"aladdin",xtray_id:10,xtray_name:"testxtray5",location_name:"G031A",position_name:"Block 2",position_img:"4"},{last_weight:79.7,full_weight:79.7,is_ontray:!1,vessel_id:262,vessel_rfid_uid:"00000098",cas:"9002-98-6",chemical_name:"Ethylene imine polymer",brand_name:"aladdin",xtray_id:10,xtray_name:"testxtray5",location_name:"G031A",position_name:"Block 2",position_img:"4"},{last_weight:135.1,full_weight:142.9,is_ontray:!1,vessel_id:264,vessel_rfid_uid:"00000099",cas:"112-53-8",chemical_name:"Dodecyl alcohol",brand_name:"Energy Chemical",xtray_id:10,xtray_name:"testxtray5",location_name:"G031A",position_name:"Block 2",position_img:"4"},{last_weight:517.5,full_weight:586.8,is_ontray:!1,vessel_id:266,vessel_rfid_uid:"00000089",cas:"50-00-0",chemical_name:"Formaldehyde solution",brand_name:"Sigma",xtray_id:21,xtray_name:"6105-Tray-20",location_name:"6105",position_name:"2-1",position_img:"2"},{last_weight:106.6,full_weight:213.6,is_ontray:!1,vessel_id:267,vessel_rfid_uid:"00000095",cas:"111-92-2",chemical_name:"Dibutylamine",brand_name:"Aldrich",xtray_id:10,xtray_name:"testxtray5",location_name:"G031A",position_name:"Block 2",position_img:"4"},{last_weight:50,full_weight:578,is_ontray:!0,vessel_id:270,vessel_rfid_uid:"00000081",cas:"7727-54-0",chemical_name:"Ammoniumperoxodisulfat",brand_name:"Riedel",xtray_id:16,xtray_name:"6105-Tray-15",location_name:"6105",position_name:"1-3",position_img:"1"}]};this.materials=e.data,this.changevesselData(e.data),this.updateVesselTable(e.data)},async fetchMaterialList(){const e=await u.Z.materialList();return this.materials=e,e},async fetchMaterialListHandler(){let e=await this.fetchMaterialList();this.$store.commit("materialHistory/setHistory",{rawHistory:e.map((e=>e.History)),nameArr:e.map((e=>e.Name))})}},computed:{getLocationImgPath(){return function(e){return e}}},created(){this.updatextray(),this.updateVesselData()}};var re=a(4356),de=a(6858),me=a(136),he=a(926),_e=a(3532),ce=a(7220),pe=a(335);const ue=(0,x.Z)(oe,[["render",ee]]),ye=ue;P()(oe,"components",{QExpansionItem:k.Z,QCard:S.Z,QScrollArea:W.Z,QCardSection:O.Z,QTable:re.Z,QInput:G.Z,QBtn:V.Z,QTooltip:de.Z,QSpace:me.Z,QSeparator:he.Z,QSelect:Q.Z,QTr:_e.Z,QTd:ce.Z,QBadge:q.Z,QIcon:M.Z,QImg:pe.Z}),a(9466),a(8186),a(1335),a(984),a(3771);const ge={name:"IndexPage",data(){return{type1:"update",type2:"create",Get_Data_Ready:!1,graphSeries:[],graphVessels:[],grapthLegend:[],vesselIdNameDict:{},updateProxy(){proxyDate.value=date.value},ghs_code:{},myDateFrom:"2022-05-23",myDateTo:this.timeFormat(new Date),filterDate:"",showDatepicker:!0,bardata:Object,table_content:[]}},watch:{table_content(){this.table_content.length>1?this.Get_Data_Ready=!0:this.Get_Data_Ready=!1}},components:{DashBoard:j,VesselTable:ye,PieChart:D},methods:{...(0,p.OI)(["changeheatmapData","changebarStackdata","changehistoryWeightdata"]),updateTableContent(e){e.length>0&&(this.table_content=e)},update(){filterDate.value=proxyDate.value},save(){console.log("保存筛选结果，发送数据"),this.myDateFrom=this.timeFormat(new Date(this.filterDate.from)),this.myDateTo=this.timeFormat(new Date(this.filterDate.to)),this.getsummary(),this.generateAllChartsOptions(),this.draw("MainChart")},cyclerequest(){this.time=setInterval((()=>{this.refreshNotice()}),1e3)},setTime(){this.cyclerequest()},updatelegend(e){let t;for(t in console.log("updatelegend"),this.grapthLegend=[],this.graphVessels)this.grapthLegend.push(e[t]["chemical_name"]),this.vesselIdNameDict[e[t]["vessel_id"]]=e[t]["chemical_name"]},async updatevessel(){console.log("get vessel");let e={code:200,message:"",data:[{last_weight:826.5,full_weight:826.5,is_ontray:!0,vessel_id:73,vessel_rfid_uid:"00000012",cas:"78-10-4",chemical_name:"TEOS",brand_name:"Sigma",xtray_id:8,created_datetime:"2021-09-08",updated_datetime:"2022-05-31"},{last_weight:320.3,full_weight:624.4,is_ontray:!0,vessel_id:79,vessel_rfid_uid:"00000015",cas:"57-09-0",chemical_name:"CTAB",brand_name:"Sigma",xtray_id:8,created_datetime:"2021-09-08",updated_datetime:"2022-05-31"},{last_weight:130.2,full_weight:737.2,is_ontray:!1,vessel_id:122,vessel_rfid_uid:"00000024",cas:"1336-21-6",chemical_name:"Ammonia solution",brand_name:"Aladdin",xtray_id:12,created_datetime:"2021-10-07",updated_datetime:"2022-01-18"},{last_weight:403.2,full_weight:824.1,is_ontray:!1,vessel_id:123,vessel_rfid_uid:"00000026",cas:"111-42-2",chemical_name:"DEA",brand_name:"Aladdin",xtray_id:12,created_datetime:"2021-10-07",updated_datetime:"2022-01-10"},{last_weight:1290.5,full_weight:1569.4,is_ontray:!1,vessel_id:124,vessel_rfid_uid:"00000025",cas:"123-54-6",chemical_name:"Acetylacetone",brand_name:"Sigma",xtray_id:12,created_datetime:"2021-10-07",updated_datetime:"2022-01-10"},{last_weight:750.3,full_weight:1582.8,is_ontray:!1,vessel_id:125,vessel_rfid_uid:"00000022",cas:"64-17-5",chemical_name:"Ethanol",brand_name:"VWR",xtray_id:7,created_datetime:"2021-10-07",updated_datetime:"2021-12-09"},{last_weight:770.9,full_weight:770.9,is_ontray:!1,vessel_id:126,vessel_rfid_uid:"00000021",cas:"546-68-9",chemical_name:"TTIP",brand_name:"Aldrich",xtray_id:12,created_datetime:"2021-10-07",updated_datetime:"2022-01-10"},{last_weight:281.4,full_weight:370.1,is_ontray:!1,vessel_id:153,vessel_rfid_uid:"00000034",cas:"822-06-0",chemical_name:"Hexamethylene diisocyanate",brand_name:"Sigma-aldrich",xtray_id:5,created_datetime:"2021-11-10",updated_datetime:"2022-04-01"},{last_weight:362,full_weight:593.3,is_ontray:!1,vessel_id:254,vessel_rfid_uid:"00000087",cas:"110-97-4",chemical_name:"Diisopropanolamine",brand_name:"aladdin",xtray_id:10,created_datetime:"2021-12-01",updated_datetime:"2022-04-28"},{last_weight:59.6,full_weight:123.4,is_ontray:!1,vessel_id:255,vessel_rfid_uid:"00000096",cas:"35103-79-8",chemical_name:"Cesiom hydroxide monohydrate",brand_name:"aladdin",xtray_id:10,created_datetime:"2021-12-01",updated_datetime:"2022-04-14"},{last_weight:279.3,full_weight:1156.3,is_ontray:!1,vessel_id:257,vessel_rfid_uid:"00000080",cas:"10043-35-3",chemical_name:"Boric acid",brand_name:"Riedel",xtray_id:10,created_datetime:"2021-12-01",updated_datetime:"2022-04-28"},{last_weight:583.2,full_weight:583.2,is_ontray:!1,vessel_id:258,vessel_rfid_uid:"00000084",cas:"29911-28-2",chemical_name:"Di(propylene glycol) butyl ether",brand_name:"Aldrich",xtray_id:10,created_datetime:"2021-12-01",updated_datetime:"2022-04-28"},{last_weight:230.5,full_weight:690.9,is_ontray:!1,vessel_id:261,vessel_rfid_uid:"00000090",cas:"64-19-7",chemical_name:"Acetic acid",brand_name:"aladdin",xtray_id:10,created_datetime:"2021-12-01",updated_datetime:"2022-04-28"},{last_weight:79.7,full_weight:79.7,is_ontray:!1,vessel_id:262,vessel_rfid_uid:"00000098",cas:"9002-98-6",chemical_name:"Ethylene imine polymer",brand_name:"aladdin",xtray_id:10,created_datetime:"2021-12-01",updated_datetime:"2022-04-28"},{last_weight:135.1,full_weight:142.9,is_ontray:!1,vessel_id:264,vessel_rfid_uid:"00000099",cas:"112-53-8",chemical_name:"Dodecyl alcohol",brand_name:"Energy Chemical",xtray_id:10,created_datetime:"2021-12-01",updated_datetime:"2022-04-28"},{last_weight:517.5,full_weight:586.8,is_ontray:!1,vessel_id:266,vessel_rfid_uid:"00000089",cas:"50-00-0",chemical_name:"Formaldehyde solution",brand_name:"Sigma",xtray_id:21,created_datetime:"2021-12-01",updated_datetime:"2022-07-14"},{last_weight:106.6,full_weight:213.6,is_ontray:!1,vessel_id:267,vessel_rfid_uid:"00000095",cas:"111-92-2",chemical_name:"Dibutylamine",brand_name:"Aldrich",xtray_id:10,created_datetime:"2021-12-01",updated_datetime:"2022-04-28"},{last_weight:50,full_weight:578,is_ontray:!0,vessel_id:270,vessel_rfid_uid:"00000081",cas:"7727-54-0",chemical_name:"Ammoniumperoxodisulfat",brand_name:"Riedel",xtray_id:16,created_datetime:"2021-12-01",updated_datetime:"2022-09-14"}]};this.materials=e.data,console.log("Get vessel,data=",e.data),this.updatelegend(e.data),this.updateTableContent(e.data)},changegraphVessels(e){let t=e.barStackdata;for(var a of(console.log(t),e.barStackdata))this.graphVessels.push(a[0])},async getsummary(){console.log("get summary");let e={code:200,historyWeightdata:{73:[826.5,826.5,826.5,826.5,826.5,826.5,826.5,826.5,826.5,826.5,826.5,826.5,826.5,826.5,826.5,826.5,826.5,826.5,826.5,826.5,826.5,826.5,826.5,826.5,826.5,826.5,826.5,826.5,826.5,826.5,826.5,826.5,826.5,826.5,826.5,826.5,826.5,826.5,826.5,826.5,826.5,826.5,826.5,826.5,826.5,826.5,826.5,826.5,826.5,826.5,826.5],79:[624.4,624.4,624.4,624.4,624.4,624.4,624.4,624.4,624.4,624.4,624.4,624.4,624.4,624.4,624.4,624.4,624.4,624.4,624.4,624.4,624.4,624.4,624.4,624.4,624.4,624.4,624.4,624.4,624.4,624.4,624.4,624.4,624.4,624.4,624.4,624.4,624.4,624.4,624.4,624.4,624.4,624.4,624.4,624.4,624.4,624.4,624.4,624.4,624.4,624.4,624.4],122:[737.2,737.2,737.2,737.2,737.2,737.2,737.2,737.2,737.2,737.2,737.2,737.2,737.2,737.2,737.2,737.2,737.2,737.2,737.2,737.2,737.2,737.2,737.2,737.2,737.2,737.2,737.2,737.2,737.2,737.2,737.2,737.2,737.2,737.2,737.2,737.2,737.2,737.2,737.2,737.2,737.2,737.2,737.2,737.2,737.2,737.2,737.2,737.2,737.2,737.2,737.2],123:[824.1,824.1,824.1,824.1,824.1,824.1,824.1,824.1,824.1,824.1,824.1,824.1,824.1,824.1,824.1,824.1,824.1,824.1,824.1,824.1,824.1,824.1,824.1,824.1,824.1,824.1,824.1,824.1,824.1,824.1,824.1,824.1,824.1,824.1,824.1,824.1,824.1,824.1,824.1,824.1,824.1,824.1,824.1,824.1,824.1,824.1,824.1,824.1,824.1,824.1,824.1],124:[1569.4,1569.4,1569.4,1569.4,1569.4,1569.4,1569.4,1569.4,1569.4,1569.4,1569.4,1569.4,1569.4,1569.4,1569.4,1569.4,1569.4,1569.4,1569.4,1569.4,1569.4,1569.4,1569.4,1569.4,1569.4,1569.4,1569.4,1569.4,1569.4,1569.4,1569.4,1569.4,1569.4,1569.4,1569.4,1569.4,1569.4,1569.4,1569.4,1569.4,1569.4,1569.4,1569.4,1569.4,1569.4,1569.4,1569.4,1569.4,1569.4,1569.4,1569.4],125:[1582.8,1582.8,1582.8,1582.8,1582.8,1582.8,1582.8,1582.8,1582.8,1582.8,1582.8,1582.8,1582.8,1582.8,1582.8,1582.8,1582.8,1582.8,1582.8,1582.8,1582.8,1582.8,1582.8,1582.8,1582.8,1582.8,1582.8,1582.8,1582.8,1582.8,1582.8,1582.8,1582.8,1582.8,1582.8,1582.8,1582.8,1582.8,1582.8,1582.8,1582.8,1582.8,1582.8,1582.8,1582.8,1582.8,1582.8,1582.8,1582.8,1582.8,1582.8],126:[770.9,770.9,770.9,770.9,770.9,770.9,770.9,770.9,770.9,770.9,770.9,770.9,770.9,770.9,770.9,770.9,770.9,770.9,770.9,770.9,770.9,770.9,770.9,770.9,770.9,770.9,770.9,770.9,770.9,770.9,770.9,770.9,770.9,770.9,770.9,770.9,770.9,770.9,770.9,770.9,770.9,770.9,770.9,770.9,770.9,770.9,770.9,770.9,770.9,770.9,770.9],153:[281.4,281.4,281.4,281.4,281.4,281.4,281.4,281.4,281.4,281.4,281.4,281.4,281.4,281.4,281.4,281.4,281.4,281.4,281.4,281.4,281.4,281.4,281.4,281.4,281.4,281.4,281.4,281.4,281.4,281.4,281.4,281.4,281.4,281.4,281.4,281.4,281.4,281.4,281.4,281.4,281.4,281.4,281.4,281.4,281.4,281.4,281.4,281.4,281.4,281.4,281.4],254:[593.3,593.3,593.3,593.3,593.3,593.3,593.3,593.3,593.3,593.3,593.3,593.3,593.3,593.3,593.3,593.3,593.3,593.3,593.3,593.3,593.3,593.3,593.3,593.3,593.3,593.3,593.3,593.3,593.3,593.3,593.3,593.3,593.3,593.3,593.3,593.3,593.3,593.3,593.3,593.3,593.3,593.3,593.3,593.3,593.3,593.3,593.3,593.3,593.3,593.3,593.3],255:[123.4,123.4,123.4,123.4,123.4,123.4,123.4,123.4,123.4,123.4,123.4,123.4,123.4,123.4,123.4,123.4,123.4,123.4,123.4,123.4,123.4,123.4,123.4,123.4,123.4,123.4,123.4,123.4,123.4,123.4,123.4,123.4,123.4,123.4,123.4,123.4,123.4,123.4,123.4,123.4,123.4,123.4,123.4,123.4,123.4,123.4,123.4,123.4,123.4,123.4,123.4],257:[1156.3,1156.3,1156.3,1156.3,1156.3,1156.3,1156.3,1156.3,1156.3,1156.3,1156.3,1156.3,1156.3,1156.3,1156.3,1156.3,1156.3,1156.3,1156.3,1156.3,1156.3,1156.3,1156.3,1156.3,1156.3,1156.3,1156.3,1156.3,1156.3,1156.3,1156.3,1156.3,1156.3,1156.3,1156.3,1156.3,1156.3,1156.3,1156.3,1156.3,1156.3,1156.3,1156.3,1156.3,1156.3,1156.3,1156.3,1156.3,1156.3,1156.3,1156.3],258:[583.2,583.2,583.2,583.2,583.2,583.2,583.2,583.2,583.2,583.2,583.2,583.2,583.2,583.2,583.2,583.2,583.2,583.2,583.2,583.2,583.2,583.2,583.2,583.2,583.2,583.2,583.2,583.2,583.2,583.2,583.2,583.2,583.2,583.2,583.2,583.2,583.2,583.2,583.2,583.2,583.2,583.2,583.2,583.2,583.2,583.2,583.2,583.2,583.2,583.2,583.2],261:[690.9,690.9,690.9,690.9,690.9,690.9,690.9,690.9,690.9,690.9,690.9,690.9,690.9,690.9,690.9,690.9,690.9,690.9,690.9,690.9,690.9,690.9,690.9,690.9,690.9,690.9,690.9,690.9,690.9,690.9,690.9,690.9,690.9,690.9,690.9,690.9,690.9,690.9,690.9,690.9,690.9,690.9,690.9,690.9,690.9,690.9,690.9,690.9,690.9,690.9,690.9],262:[79.7,79.7,79.7,79.7,79.7,79.7,79.7,79.7,79.7,79.7,79.7,79.7,79.7,79.7,79.7,79.7,79.7,79.7,79.7,79.7,79.7,79.7,79.7,79.7,79.7,79.7,79.7,79.7,79.7,79.7,79.7,79.7,79.7,79.7,79.7,79.7,79.7,79.7,79.7,79.7,79.7,79.7,79.7,79.7,79.7,79.7,79.7,79.7,79.7,79.7,79.7],264:[142.9,142.9,142.9,142.9,142.9,142.9,142.9,142.9,142.9,142.9,142.9,142.9,142.9,142.9,142.9,142.9,142.9,142.9,142.9,142.9,142.9,142.9,142.9,142.9,142.9,142.9,142.9,142.9,142.9,142.9,142.9,142.9,142.9,142.9,142.9,142.9,142.9,142.9,142.9,142.9,142.9,142.9,142.9,142.9,142.9,142.9,142.9,142.9,142.9,142.9,142.9],266:[586.8,586.8,586.8,586.8,586.8,586.8,586.8,586.8,586.8,586.8,586.8,586.8,586.8,586.8,586.8,586.8,586.8,586.8,586.8,586.8,586.8,586.8,586.8,586.8,586.8,586.8,586.8,586.8,586.8,586.8,586.8,586.8,586.8,586.8,586.8,586.8,586.8,586.8,586.8,586.8,586.8,586.8,586.8,586.8,586.8,586.8,586.8,586.8,586.8,586.8,586.8],267:[213.6,213.6,213.6,213.6,213.6,213.6,213.6,213.6,213.6,213.6,213.6,213.6,213.6,213.6,213.6,213.6,213.6,213.6,213.6,213.6,213.6,213.6,213.6,213.6,213.6,213.6,213.6,213.6,213.6,213.6,213.6,213.6,213.6,213.6,213.6,213.6,213.6,213.6,213.6,213.6,213.6,213.6,213.6,213.6,213.6,213.6,213.6,213.6,213.6,213.6,213.6],270:[6,-12,-12,35,36,36,36,36,36,36,36,36,36,36,36,36,36,36,36,36,36,36,36,36,36,36,36,36,36,36,7,50,6,6,578,578,578,578,578,578,578,578,578,578,24,24,24,24,24,24,24]},heatmapData:[{date:"2022-08-04",count:33},{date:"2022-08-05",count:4},{date:"2022-08-31",count:2},{date:"2022-09-01",count:2},{date:"2022-09-14",count:2}],barStackdata:[[73,"826.5"],[79,"320.3"],[122,"130.2"],[123,"403.2"],[124,"1290.5"],[125,"750.3"],[126,"770.9"],[153,"281.4"],[254,"362.0"],[255,"59.6"],[257,"279.3"],[258,"583.2"],[261,"230.5"],[262,"79.7"],[264,"135.1"],[266,"517.5"],[267,"106.6"],[270,"50.0"]]};console.log("summary data=",e),this.changeheatmapData(e),this.changebarStackdata(e),this.changehistoryWeightdata(e),this.changegraphVessels(e),console.log("get summary end"),await this.updatevessel()},async refreshNotice(){await u.Z.getnotice()},changePickerend(e){console.log("选择时间结束"),console.log(this.filterDate.from,this.filterDate.to),console.log(this.getdiffdate(this.filterDate.from,this.filterDate.to)),this.historyDates=this.getdiffdate(this.filterDate.from,this.filterDate.to)},timeFormat(e){let t=e.getFullYear()+"-"+("0"+(e.getMonth()+1)).slice(-2)+"-"+("0"+e.getDate()).slice(-2);return t}},created(){this.getsummary()},mounted(){}},we=(0,x.Z)(ge,[["render",c]]),fe=we;P()(ge,"components",{QExpansionItem:k.Z,QCard:S.Z,QScrollArea:W.Z,QCardSection:O.Z})},236:(e,t,a)=>{e.exports=a.p+"img/6105-1.541f852d.png"},2370:(e,t,a)=>{e.exports=a.p+"img/6105-2.57a4a6dd.png"},4879:(e,t,a)=>{e.exports=a.p+"img/6105-3.c29a0287.png"},397:(e,t,a)=>{e.exports=a.p+"img/G031A.8013e56c.png"}}]);